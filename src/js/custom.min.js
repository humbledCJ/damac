"use strict";var reCaptcha1,reCaptcha2,target="",controller=new ScrollMagic.Controller;function sendData(a,t){var e=t?grecaptcha.getResponse(reCaptcha1):grecaptcha.getResponse(reCaptcha2),o=t?$("#modal-name").val():$("#name").val(),s=t?$("#modal-company").val():$("#company").val(),c=""===(t?$("#modal-tel-extra").val():$("#tel-extra").val())?t?$("#modal-tel").val():$("#tel").val():t?$("#modal-tel").val()+" доб.: "+$("#modal-tel-extra").val():$("#tel").val()+" доб.: "+$("#tel-extra").val(),n=t?$("#modal-email").val():"",r=t?$("#modal-staff").val():"";if(!$(a).hasClass("disabled")&&!$(a).hasClass("loading")&&!$(a).hasClass("reCaptchaNotPassed")&&e.length){var l=new FormData;l.append("forModalWindow",t),l.append("g-recaptcha-response",e),$.ajax({url:"check_captcha.php",method:"POST",data:l,processData:!1,contentType:!1,beforeSend:function(){switchLoading(a,1),$(a).addClass("disabled")},error:function(e){switchLoading(a,0),showResponseMessage(a,"danger"),$(a).removeClass("disabled")},success:function(e){"true"===e?$.ajax({url:"send_mail.php",method:"POST",data:{name:o,company:s,phone:c,email:n,staff:r,target:target},error:function(e){switchLoading(a,0),showResponseMessage(a,"danger"),$(a).removeClass("disabled"),$(a).addClass("reCaptchaNotPassed"),t?grecaptcha.reset(reCaptcha1):grecaptcha.reset(reCaptcha2)},success:function(e){switchLoading(a,0),showResponseMessage(a,"success"),sendEvents(),t?grecaptcha.reset(reCaptcha1):grecaptcha.reset(reCaptcha2),$("input").val(""),$(a).addClass("reCaptchaNotPassed"),setTimeout(function(){$("#lidModal").modal("hide")},2e3)}}):(showResponseMessage(a,"danger"),switchLoading(a,0),t?grecaptcha.reset(reCaptcha1):grecaptcha.reset(reCaptcha2))}})}}function switchLoading(e,a){1===a?$(e).addClass("loading"):$(e).removeClass("loading")}function switchCookiesNotice(e){var a=getCookie("cookies_accepted");1!==e||a?$(".cookies").removeClass("show"):setTimeout(function(){$(".cookies").addClass("show")},3e3)}function acceptedCookiesNotice(){setCookie("cookies_accepted","true"),switchCookiesNotice(0)}function getCookie(e){var a=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return a?decodeURIComponent(a[1]):void 0}function setCookie(e,a){document.cookie=e+"="+a}function showResponseMessage(e,a){"success"===a?$(e).parent().prepend('<p class="text-success small response-message">Спасибо! Ваша заявка успешно отправлена.</p>'):$(e).parent().prepend('<p class="text-danger small response-message">К сожалению, произошла ошибка. Попробуйте позже.</p>'),setTimeout(function(){$(".response-message").hide(500)},2e3)}function sendEvents(){}function setTarget(e){target="final-form"===e?"Пользователь запросил информацию, оставив контакты в нижней форме на сайте Clock":e}function CaptchaCallback(){reCaptcha1=grecaptcha.render("RecaptchaField1",{sitekey:"6Ld6ynAUAAAAABnnwcq-6gPsDTfES46qTz6KXkXX",callback:function(){captchaResponseCallback("success","modal")},"expiredСallback":function(){captchaCallback("expired","modal")},"errorСallback":function(){captchaCallback("error","modal")}}),reCaptcha2=grecaptcha.render("RecaptchaField2",{sitekey:"6LfCzXAUAAAAAMXWleAl6Y-5vn74KKseYIze-nOo",callback:function(){captchaResponseCallback("success","subform")},"expiredСallback":function(){captchaCallback("expired","subform")},"errorСallback":function(){captchaCallback("error","subform")}})}function captchaResponseCallback(e,a){if("modal"===a)switch(e){case"success":$("#modal-send-btn").removeClass("reCaptchaNotPassed");break;case"expired":case"error":$("#modal-send-btn").addClass("reCaptchaNotPassed")}else if("subform"===a)switch(e){case"success":$("#subform-send-btn").removeClass("reCaptchaNotPassed");break;case"expired":case"error":$("#subform-send-btn").addClass("reCaptchaNotPassed")}}function returnToTop(){smoothScroll($("body"))}function smoothScroll(e){$("html, body").animate({scrollTop:e.offset().top},600)}function animateScrollElements(){var e=TweenMax.staggerFromTo(".description .animate-item",.5,{x:-100,y:100,opacity:0},{x:0,y:0,opacity:1},.1),a=TweenMax.staggerFromTo(".smaller .animate-item",.5,{y:100,opacity:0},{y:0,opacity:1},.1),t=TweenMax.staggerFromTo(".tile .animate-item",.5,{y:100,opacity:0},{y:0,opacity:1},.1),o=TweenMax.staggerFromTo(".ai-brain .animate-item",.5,{x:-100,y:100,opacity:0},{x:0,y:0,opacity:1},.1),s=TweenMax.staggerFromTo(".ipad .animate-item",.5,{x:-100,y:100,opacity:0},{x:0,y:0,opacity:1},.1),c=TweenMax.staggerFromTo(".interaction .animate-item",.5,{y:100,opacity:0},{y:0,opacity:1},.1);new ScrollMagic.Scene({triggerElement:".description",offset:0}).setTween(e).addTo(controller),new ScrollMagic.Scene({triggerElement:".smaller",triggerHook:"onEnter",offset:0}).setTween(a).addTo(controller),new ScrollMagic.Scene({triggerElement:".tile",offset:0}).setTween(t).addTo(controller),new ScrollMagic.Scene({triggerElement:".ai-brain",offset:0}).setTween(o).addTo(controller),new ScrollMagic.Scene({triggerElement:".ipad",offset:0}).setTween(s).addTo(controller),new ScrollMagic.Scene({triggerElement:".interaction",offset:0}).setTween(c).addTo(controller)}$(function(){$("#modal-staff").on("mousewheel",function(e){e.preventDefault();var a=$(this),t=parseFloat(a.attr("step")),o=parseFloat(a.attr("max")),s=parseFloat(a.attr("min")),c=parseFloat(a.val());isNaN(c)&&(c=0),0<e.deltaFactor*e.deltaY?c+t<=o&&a.val(c+t):s<=c-t&&a.val(c-t)}),$(".boxes.owl-carousel").owlCarousel({loop:!0,dots:!0,autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,responsive:{0:{items:1,slideBy:1},480:{items:1,slideBy:1},992:{items:1,slideBy:1},1200:{items:2,slideBy:2}}})}),$(window).scroll(function(){$(this).scrollTop()>=$(window).height()&&768<$(window).width()?$(".return-to-top").removeClass("fadeOut").addClass("fadeIn"):$(".return-to-top").removeClass("fadeIn").addClass("fadeOut"),$(this).scrollTop()>=$(window).height()?$(".mobile-call").removeClass("fadeOut").addClass("fadeIn"):$(".mobile-call").removeClass("fadeIn").addClass("fadeOut")}),$(document).ready(function(){$(window).on("click touchend",function(e){if(0!=$("input:checked + .cs-tile-container").length&&$("input:checked + .cs-tile-container").first().css("width")>$("input:not(:checked) + .cs-tile-container").first().css("width")){var a=$("input:checked + .cs-tile-container").first();0!=a.has(e.target).length||a.is(e.target)||$(".tile-checkbox:checked").prop("checked",!1)}}),animateScrollElements()}),$(window).on("load",function(){animateScrollElements()}),$(window).resize(function(){$("html").addClass("force-gpu").removeClass("force-gpu")});